"""
Background 생성기 프롬프트 설정
2단계 프로세스: Perplexity(사실 수집) → GPT(핵심 선별)
"""

# 1단계: Perplexity로 10개+ 불렛 생성
PERPLEXITY_RAW_PROMPT = """다음 정치 이슈에 대해 객관적 사실만 불렛 포인트로 10개 이상 작성해주세요.

이슈 정보:
- 제목: {title}
- 부제목: {subtitle}
- 좌파 관점: {left_view}
- 우파 관점: {right_view}
- 요약: {summary}

요구사항:
1. 10개 이상의 불렛 포인트 작성
2. 객관적 사실과 데이터만 포함 (평가나 해석 금지)
3. 관련 법률, 통계, 역사적 사례, 현재 상황 등 포함
4. 각 불렛은 30자 내외로 간결하고 명확하게 작성
5. 참조 번호나 출처 표시 제거
6. 편향 없이 중립적 사실만 나열
7. 어려운 정치 용어는 순수 한국어로 쉽게 표현
8. 한자어나 외래어 대신 순수 한국어 사용
9. 각 불렛에 시간적 맥락 포함 (날짜는 제거)

불렛 포인트:"""

# 2단계: GPT로 핵심 5개 선별/정리
GPT_REFINE_PROMPT = """다음 불렛 포인트들 중에서 이슈의 핵심을 파악하는데 가장 중요한 5개를 선별하고 정리해주세요.

이슈: {title} - {subtitle}

원본 불렛들:
{raw_bullets}

요구사항:
1. 정확히 5개의 불렛만 선별
2. 이슈의 핵심을 이해하는데 가장 중요한 사실들만 선택
3. 중복되거나 비슷한 내용은 하나로 통합
4. 각 불렛을 30자 내외로 간결하게 정리
5. 순서는 시간 순서대로 배치 (과거 → 현재)
6. 객관적 사실만 유지 (평가나 해석 금지)
7. 각 불렛은 • 기호로 시작
8. "핵심 불렛 5개:" 같은 제목 없이 바로 불렛만 출력
9. 어려운 정치 용어는 순수 한국어로 쉽게 표현
10. 각 불렛 끝에 <br> 태그 추가

출력 형식:
• 첫 번째 핵심 사실<br>
• 두 번째 핵심 사실<br>
• 세 번째 핵심 사실<br>
• 네 번째 핵심 사실<br>
• 다섯 번째 핵심 사실<br>"""

# 모델별 설정
MODEL_CONFIGS = {
    'perplexity': {
        'model': 'sonar',
        'max_tokens': 500,
        'temperature': 0.3
    },
    'gpt': {
        'model': 'gpt-4o-mini',
        'max_tokens': 300,
        'temperature': 0.1
    }
}
