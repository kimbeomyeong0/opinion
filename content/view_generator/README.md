# LLM 기반 지능형 View 생성 시스템

이슈 특성과 맥락을 고려한 동적 관점 생성 시스템입니다.

## 📁 디렉토리 구조

```
content/
├── view_generator/                    # 지능형 관점 생성 모듈들
│   ├── __init__.py                    # 모듈 초기화
│   ├── issue_analyzer.py              # LLM 기반 이슈 특성 분석
│   ├── bias_interpreter.py            # LLM 기반 성향 해석
│   ├── prompt_generator.py            # 동적 프롬프트 생성
│   ├── quality_checker.py             # LLM 기반 품질 검증
│   └── README.md                      # 이 파일
└── run_view_generator.py              # 통합 실행 시스템
```

## 🔧 모듈 설명

### 1. LLMBasedIssueAnalyzer (`issue_analyzer.py`)
- **기능**: LLM을 활용한 이슈 특성 동적 분석
- **주요 기능**:
  - 이슈 유형 자동 분류 (경제, 정치, 사회, 환경, 안보, 기술, 법률, 외교)
  - 핵심 이해관계자 파악
  - 주요 갈등 구조 분석
  - 복잡도 및 시간적 맥락 평가
  - 하드코딩된 키워드 매칭 대신 맥락적 이해

### 2. LLMBasedBiasInterpreter (`bias_interpreter.py`)
- **기능**: 이슈 맥락에 맞는 성향 해석
- **주요 기능**:
  - 이슈별 맞춤형 성향 해석
  - 고정된 스테레오타입 회피
  - 맥락적 뉘앙스 반영
  - 동적 가이드라인 생성

### 3. IntelligentPromptGenerator (`prompt_generator.py`)
- **기능**: 이슈 특성에 맞는 동적 프롬프트 생성
- **주요 기능**:
  - 이슈 특성에 맞는 최적화된 프롬프트
  - 성향별 톤 가이드 통합
  - 자연스러운 문체 지향
  - 기승전결 강제하지 않는 자연스러운 흐름

### 4. LLMBasedQualityChecker (`quality_checker.py`)
- **기능**: LLM 기반 관점 품질 검증
- **주요 기능**:
  - 6가지 품질 기준 평가 (성향 일관성, 이슈 관련성, 객관성, 명확성, 자연스러움, 길이 적절성)
  - 자동 점수 계산 및 등급 부여
  - 통과/미통과 판정
  - 기본 품질 체크 (LLM 없이)

### 5. IntelligentViewGenerator (`../run_view_generator.py`)
- **기능**: 통합 실행 시스템
- **주요 기능**:
  - 병렬 처리로 효율성 향상
  - 실시간 품질 모니터링
  - 상세한 로깅 및 보고서
  - 덮어쓰기 방식 지원

## 🚀 사용 방법

### 기본 사용법
```python
from content.run_view_generator import IntelligentViewGenerator

# 생성기 초기화
generator = IntelligentViewGenerator()

# 단일 이슈 처리
success = generator.process_issue(issue_id)

# 모든 이슈 처리
success = generator.process_all_issues()
```

### 명령행 실행
```bash
# 모든 이슈 처리
python content/run_view_generator.py

# 단일 이슈 테스트
python content/run_view_generator.py test
```

## 📊 품질 검증 기준

1. **성향 일관성** (10점): 성향의 특징이 잘 드러나는가?
2. **이슈 관련성** (10점): 이슈와 관련된 구체적 내용인가?
3. **객관성** (10점): 편향되지 않고 균형잡힌 관점인가?
4. **명확성** (10점): 이해하기 쉽고 명확한 표현인가?
5. **자연스러움** (10점): 딱딱하지 않고 자연스러운 문체인가?
6. **길이 적절성** (10점): 제목 20-30자, 내용 300자 내외인가?

**통과 기준**: 총점 36점 이상 (60점 만점의 60%)

## 🔄 기존 시스템과의 차이점

| 구분 | 기존 시스템 | 새로운 시스템 |
|------|-------------|---------------|
| **분석 방식** | 하드코딩된 키워드 매칭 | LLM 기반 맥락적 이해 |
| **성향 해석** | 고정된 가이드라인 | 이슈별 동적 해석 |
| **프롬프트** | 정적 템플릿 | 적응형 프롬프트 |
| **품질 관리** | 없음 | LLM 기반 6가지 기준 검증 |
| **맥락 고려** | 제한적 | 이슈 특성 완전 반영 |
| **자연스러움** | 딱딱한 구조 | 자연스러운 흐름 |

## 📈 예상 효과

- **더 정확한 관점**: 이슈의 맥락을 완전히 이해한 맞춤형 관점
- **자연스러운 표현**: 딱딱하지 않고 읽기 쉬운 관점
- **품질 보장**: 자동 검증을 통한 일관된 품질
- **확장성**: 새로운 이슈 유형에 자동 적응
- **사용자 경험**: 더 깊이 있고 이해하기 쉬운 관점

## 💰 비용 고려사항

- **LLM 호출 증가**: 이슈 분석, 성향 해석, 프롬프트 생성, 관점 생성, 품질 검증
- **예상 비용**: 기존 대비 3-5배 증가
- **최적화 방안**: 캐싱, 배치 처리, 모델 선택 최적화

## 🔧 개발자 정보

이 시스템은 기존 하드코딩된 방식의 한계를 극복하기 위해 개발되었습니다.
- **LLM 활용**: 맥락적 이해와 동적 적응
- **모듈화**: 각 기능별 독립적 모듈 구성
- **확장성**: 새로운 기능 추가 용이
- **유지보수성**: 하드코딩 최소화
